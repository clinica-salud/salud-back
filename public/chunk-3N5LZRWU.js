import{$a as zn,Aa as Y,Ab as bt,B as wi,Ba as X,Ca as Te,Cb as Mi,D as yi,Db as nt,Dc as Hi,E as Vn,F as We,G as Fn,Ga as ke,Gc as Et,H as Ze,Ha as ne,Ia as R,K as me,L as J,M as Di,N as Ce,Oa as be,P as ve,Pa as Fe,Q as ee,Qa as Rn,R as te,Ra as ki,S as Dt,V as Je,Vb as Si,W as q,Wb as Ln,X as G,Y as _i,Ya as Re,Yb as An,Z as Ci,Za as ze,Zb as Nn,_a as ue,_b as Bn,a as Ie,ab as bi,b as vt,ba as pe,ca as L,cb as Ei,db as K,ea as _t,fb as he,ga as A,gb as Le,ha as E,hb as Ee,j as wt,ja as Ti,jb as Ae,k as ce,la as we,lb as xi,m as pi,na as Ve,o as fi,oa as Ct,ob as tt,pb as $,q as se,qa as Q,r as hi,rb as xe,s as In,sb as Ne,t as Wn,ta as fe,tb as Tt,u as gi,ua as W,ub as kt,v as yt,va as et,vb as Me,w as _e,y as vi,z as Ke,zc as Oi}from"./chunk-QVEDGAMG.js";function O(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}var Rr={};function ie(){return Rr}function Pi(){return Object.assign({},ie())}var zr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ii=(n,e,t)=>{let i,r=zr[n];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function xt(n){return(e={})=>{let t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}var Lr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ar={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wi={date:xt({formats:Lr,defaultWidth:"full"}),time:xt({formats:Ar,defaultWidth:"full"}),dateTime:xt({formats:Nr,defaultWidth:"full"})};var Br={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vi=(n,e,t,i)=>Br[n];function Be(n){return(e,t)=>{let i=t?.context?String(t.context):"standalone",r;if(i==="formatting"&&n.formattingValues){let a=n.defaultFormattingWidth||n.defaultWidth,s=t?.width?String(t.width):a;r=n.formattingValues[s]||n.formattingValues[a]}else{let a=n.defaultWidth,s=t?.width?String(t.width):n.defaultWidth;r=n.values[s]||n.values[a]}let o=n.argumentCallback?n.argumentCallback(e):e;return r[o]}}var Yr={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$r={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qr=(n,e)=>{let t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Fi={ordinalNumber:Qr,era:Be({values:Yr,defaultWidth:"wide"}),quarter:Be({values:$r,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Be({values:jr,defaultWidth:"wide"}),day:Be({values:Xr,defaultWidth:"wide"}),dayPeriod:Be({values:qr,defaultWidth:"wide",formattingValues:Gr,defaultFormattingWidth:"wide"})};function Ye(n){return(e,t={})=>{let i=t.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],o=e.match(r);if(!o)return null;let a=o[0],s=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(s)?Kr(s,u=>u.test(a)):Ur(s,u=>u.test(a)),l;l=n.valueCallback?n.valueCallback(c):c,l=t.valueCallback?t.valueCallback(l):l;let d=e.slice(a.length);return{value:l,rest:d}}}function Ur(n,e){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Kr(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function Ri(n){return(e,t={})=>{let i=e.match(n.matchPattern);if(!i)return null;let r=i[0],o=e.match(n.parsePattern);if(!o)return null;let a=n.valueCallback?n.valueCallback(o[0]):o[0];a=t.valueCallback?t.valueCallback(a):a;let s=e.slice(r.length);return{value:a,rest:s}}}var Zr=/^(\d+)(th|st|nd|rd)?/i,Jr=/\d+/i,eo={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},to={any:[/^b/i,/^(a|c)/i]},no={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},io={any:[/1/i,/2/i,/3/i,/4/i]},ro={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oo={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ao={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},so={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lo={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},co={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zi={ordinalNumber:Ri({matchPattern:Zr,parsePattern:Jr,valueCallback:n=>parseInt(n,10)}),era:Ye({matchPatterns:eo,defaultMatchWidth:"wide",parsePatterns:to,defaultParseWidth:"any"}),quarter:Ye({matchPatterns:no,defaultMatchWidth:"wide",parsePatterns:io,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ye({matchPatterns:ro,defaultMatchWidth:"wide",parsePatterns:oo,defaultParseWidth:"any"}),day:Ye({matchPatterns:ao,defaultMatchWidth:"wide",parsePatterns:so,defaultParseWidth:"any"}),dayPeriod:Ye({matchPatterns:lo,defaultMatchWidth:"any",parsePatterns:co,defaultParseWidth:"any"})};var it={code:"en-US",formatDistance:Ii,formatLong:Wi,formatRelative:Vi,localize:Fi,match:zi,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S(n){let e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}var Li=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ai=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},uo=(n,e)=>{let t=n.match(/(P+)(p+)?/)||[],i=t[1],r=t[2];if(!r)return Li(n,e);let o;switch(i){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Li(i,e)).replace("{{time}}",Ai(r,e))},rt={p:Ai,P:uo};var mo=/^D+$/,po=/^Y+$/,fo=["D","DD","YY","YYYY"];function Mt(n){return mo.test(n)}function St(n){return po.test(n)}function ot(n,e,t){let i=ho(n,e,t);if(console.warn(i),fo.includes(n))throw new RangeError(i)}function ho(n,e,t){let i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Ni(n,e){let t=e instanceof Date?O(e,0):new e(0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}var go=10,Ot=class{subPriority=0;validate(e,t){return!0}},Ht=class extends Ot{constructor(e,t,i,r,o){super(),this.value=e,this.validateValue=t,this.setValue=i,this.priority=r,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,i){return this.setValue(e,t,this.value,i)}},Pt=class extends Ot{priority=go;subPriority=-1;set(e,t){return t.timestampIsSet?e:O(e,Ni(e,Date))}};var v=class{run(e,t,i,r){let o=this.parse(e,t,i,r);return o?{setter:new Ht(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,i){return!0}};var It=class extends v{priority=140;parse(e,t,i){switch(t){case"G":case"GG":case"GGG":return i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"});case"GGGGG":return i.era(e,{width:"narrow"});case"GGGG":default:return i.era(e,{width:"wide"})||i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"})}}set(e,t,i){return t.era=i,e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]};var vo=Math.pow(10,8)*24*60*60*1e3,Rs=-vo,Wt=6048e5,Bi=864e5,Yi=6e4,$i=36e5,ji=1e3;var wo=3600;var Xi=wo*24,zs=Xi*7,yo=Xi*365.2425,Do=yo/12,Ls=Do*3;var I={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},re={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function F(n,e){return n&&{value:e(n.value),rest:n.rest}}function P(n,e){let t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function oe(n,e){let t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};let i=t[1]==="+"?1:-1,r=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:i*(r*$i+o*Yi+a*ji),rest:e.slice(t[0].length)}}function Vt(n){return P(I.anyDigitsSigned,n)}function k(n,e){switch(n){case 1:return P(I.singleDigit,e);case 2:return P(I.twoDigits,e);case 3:return P(I.threeDigits,e);case 4:return P(I.fourDigits,e);default:return P(new RegExp("^\\d{1,"+n+"}"),e)}}function $e(n,e){switch(n){case 1:return P(I.singleDigitSigned,e);case 2:return P(I.twoDigitsSigned,e);case 3:return P(I.threeDigitsSigned,e);case 4:return P(I.fourDigitsSigned,e);default:return P(new RegExp("^-?\\d{1,"+n+"}"),e)}}function je(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ft(n,e){let t=e>0,i=t?e:1-e,r;if(i<=50)r=n||100;else{let o=i+50,a=Math.trunc(o/100)*100,s=n>=o%100;r=n+a-(s?100:0)}return t?r:1-r}function Rt(n){return n%400===0||n%4===0&&n%100!==0}var zt=class extends v{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,i){let r=o=>({year:o,isTwoDigitYear:t==="yy"});switch(t){case"y":return F(k(4,e),r);case"yo":return F(i.ordinalNumber(e,{unit:"year"}),r);default:return F(k(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,i){let r=e.getFullYear();if(i.isTwoDigitYear){let a=Ft(i.year,r);return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}let o=!("era"in t)||t.era===1?i.year:1-i.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}};function Z(n,e){let t=ie(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,r=S(n),o=r.getDay(),a=(o<i?7:0)+o-i;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function Xe(n,e){let t=S(n),i=t.getFullYear(),r=ie(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=O(n,0);a.setFullYear(i+1,0,o),a.setHours(0,0,0,0);let s=Z(a,e),c=O(n,0);c.setFullYear(i,0,o),c.setHours(0,0,0,0);let l=Z(c,e);return t.getTime()>=s.getTime()?i+1:t.getTime()>=l.getTime()?i:i-1}var Lt=class extends v{priority=130;parse(e,t,i){let r=o=>({year:o,isTwoDigitYear:t==="YY"});switch(t){case"Y":return F(k(4,e),r);case"Yo":return F(i.ordinalNumber(e,{unit:"year"}),r);default:return F(k(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,i,r){let o=Xe(e,r);if(i.isTwoDigitYear){let s=Ft(i.year,o);return e.setFullYear(s,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Z(e,r)}let a=!("era"in t)||t.era===1?i.year:1-i.year;return e.setFullYear(a,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Z(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]};function le(n){return Z(n,{weekStartsOn:1})}var At=class extends v{priority=130;parse(e,t){return t==="R"?$e(4,e):$e(t.length,e)}set(e,t,i){let r=O(e,0);return r.setFullYear(i,0,4),r.setHours(0,0,0,0),le(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]};var Nt=class extends v{priority=130;parse(e,t){return t==="u"?$e(4,e):$e(t.length,e)}set(e,t,i){return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]};var Bt=class extends v{priority=120;parse(e,t,i){switch(t){case"Q":case"QQ":return k(t.length,e);case"Qo":return i.ordinalNumber(e,{unit:"quarter"});case"QQQ":return i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(e,{width:"wide",context:"formatting"})||i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,i){return e.setMonth((i-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]};var Yt=class extends v{priority=120;parse(e,t,i){switch(t){case"q":case"qq":return k(t.length,e);case"qo":return i.ordinalNumber(e,{unit:"quarter"});case"qqq":return i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(e,{width:"wide",context:"standalone"})||i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,i){return e.setMonth((i-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]};var $t=class extends v{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,i){let r=o=>o-1;switch(t){case"M":return F(P(I.month,e),r);case"MM":return F(k(2,e),r);case"Mo":return F(i.ordinalNumber(e,{unit:"month"}),r);case"MMM":return i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(e,{width:"wide",context:"formatting"})||i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,i){return e.setMonth(i,1),e.setHours(0,0,0,0),e}};var jt=class extends v{priority=110;parse(e,t,i){let r=o=>o-1;switch(t){case"L":return F(P(I.month,e),r);case"LL":return F(k(2,e),r);case"Lo":return F(i.ordinalNumber(e,{unit:"month"}),r);case"LLL":return i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(e,{width:"wide",context:"standalone"})||i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,i){return e.setMonth(i,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]};function qi(n,e){let t=ie(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,r=Xe(n,e),o=O(n,0);return o.setFullYear(r,0,i),o.setHours(0,0,0,0),Z(o,e)}function at(n,e){let t=S(n),i=+Z(t,e)-+qi(t,e);return Math.round(i/Wt)+1}var Gi=at;function Qi(n,e,t){let i=S(n),r=at(i,t)-e;return i.setDate(i.getDate()-r*7),i}var Xt=class extends v{priority=100;parse(e,t,i){switch(t){case"w":return P(I.week,e);case"wo":return i.ordinalNumber(e,{unit:"week"});default:return k(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,i,r){return Z(Qi(e,i,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]};function qt(n){let e=S(n),t=e.getFullYear(),i=O(n,0);i.setFullYear(t+1,0,4),i.setHours(0,0,0,0);let r=le(i),o=O(n,0);o.setFullYear(t,0,4),o.setHours(0,0,0,0);let a=le(o);return e.getTime()>=r.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function Ui(n){let e=qt(n),t=O(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),le(t)}function Gt(n){let e=S(n),t=+le(e)-+Ui(e);return Math.round(t/Wt)+1}function Ki(n,e){let t=S(n),i=Gt(t)-e;return t.setDate(t.getDate()-i*7),t}var Qt=class extends v{priority=100;parse(e,t,i){switch(t){case"I":return P(I.week,e);case"Io":return i.ordinalNumber(e,{unit:"week"});default:return k(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,i){return le(Ki(e,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]};var _o=[31,28,31,30,31,30,31,31,30,31,30,31],Co=[31,29,31,30,31,30,31,31,30,31,30,31],Ut=class extends v{priority=90;subPriority=1;parse(e,t,i){switch(t){case"d":return P(I.date,e);case"do":return i.ordinalNumber(e,{unit:"date"});default:return k(t.length,e)}}validate(e,t){let i=e.getFullYear(),r=Rt(i),o=e.getMonth();return r?t>=1&&t<=Co[o]:t>=1&&t<=_o[o]}set(e,t,i){return e.setDate(i),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]};var Kt=class extends v{priority=90;subpriority=1;parse(e,t,i){switch(t){case"D":case"DD":return P(I.dayOfYear,e);case"Do":return i.ordinalNumber(e,{unit:"date"});default:return k(t.length,e)}}validate(e,t){let i=e.getFullYear();return Rt(i)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,i){return e.setMonth(0,i),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]};function Zt(n,e){let t=S(n);return isNaN(e)?O(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function qe(n,e,t){let i=ie(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,o=S(n),a=o.getDay(),c=(e%7+7)%7,l=7-r,d=e<0||e>6?e-(a+l)%7:(c+l)%7-(a+l)%7;return Zt(o,d)}var Jt=class extends v{priority=90;parse(e,t,i){switch(t){case"E":case"EE":case"EEE":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,i,r){return e=qe(e,i,r),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]};var en=class extends v{priority=90;parse(e,t,i,r){let o=a=>{let s=Math.floor((a-1)/7)*7;return(a+r.weekStartsOn+6)%7+s};switch(t){case"e":case"ee":return F(k(t.length,e),o);case"eo":return F(i.ordinalNumber(e,{unit:"day"}),o);case"eee":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeeee":return i.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,i,r){return e=qe(e,i,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]};var tn=class extends v{priority=90;parse(e,t,i,r){let o=a=>{let s=Math.floor((a-1)/7)*7;return(a+r.weekStartsOn+6)%7+s};switch(t){case"c":case"cc":return F(k(t.length,e),o);case"co":return F(i.ordinalNumber(e,{unit:"day"}),o);case"ccc":return i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"ccccc":return i.day(e,{width:"narrow",context:"standalone"});case"cccccc":return i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(e,{width:"wide",context:"standalone"})||i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,i,r){return e=qe(e,i,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]};function Zi(n){let t=S(n).getDay();return t===0&&(t=7),t}function Ji(n,e){let t=S(n),i=Zi(t),r=e-i;return Zt(t,r)}var nn=class extends v{priority=90;parse(e,t,i){let r=o=>o===0?7:o;switch(t){case"i":case"ii":return k(t.length,e);case"io":return i.ordinalNumber(e,{unit:"day"});case"iii":return F(i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return F(i.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return F(i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),r);case"iiii":default:return F(i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,i){return e=Ji(e,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]};var rn=class extends v{priority=80;parse(e,t,i){switch(t){case"a":case"aa":case"aaa":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,i){return e.setHours(je(i),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]};var on=class extends v{priority=80;parse(e,t,i){switch(t){case"b":case"bb":case"bbb":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,i){return e.setHours(je(i),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]};var an=class extends v{priority=80;parse(e,t,i){switch(t){case"B":case"BB":case"BBB":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,i){return e.setHours(je(i),0,0,0),e}incompatibleTokens=["a","b","t","T"]};var sn=class extends v{priority=70;parse(e,t,i){switch(t){case"h":return P(I.hour12h,e);case"ho":return i.ordinalNumber(e,{unit:"hour"});default:return k(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,i){let r=e.getHours()>=12;return r&&i<12?e.setHours(i+12,0,0,0):!r&&i===12?e.setHours(0,0,0,0):e.setHours(i,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]};var ln=class extends v{priority=70;parse(e,t,i){switch(t){case"H":return P(I.hour23h,e);case"Ho":return i.ordinalNumber(e,{unit:"hour"});default:return k(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,i){return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]};var dn=class extends v{priority=70;parse(e,t,i){switch(t){case"K":return P(I.hour11h,e);case"Ko":return i.ordinalNumber(e,{unit:"hour"});default:return k(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,i){return e.getHours()>=12&&i<12?e.setHours(i+12,0,0,0):e.setHours(i,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]};var cn=class extends v{priority=70;parse(e,t,i){switch(t){case"k":return P(I.hour24h,e);case"ko":return i.ordinalNumber(e,{unit:"hour"});default:return k(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,i){let r=i<=24?i%24:i;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]};var un=class extends v{priority=60;parse(e,t,i){switch(t){case"m":return P(I.minute,e);case"mo":return i.ordinalNumber(e,{unit:"minute"});default:return k(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,i){return e.setMinutes(i,0,0),e}incompatibleTokens=["t","T"]};var mn=class extends v{priority=50;parse(e,t,i){switch(t){case"s":return P(I.second,e);case"so":return i.ordinalNumber(e,{unit:"second"});default:return k(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,i){return e.setSeconds(i,0),e}incompatibleTokens=["t","T"]};var pn=class extends v{priority=30;parse(e,t){let i=r=>Math.trunc(r*Math.pow(10,-t.length+3));return F(k(t.length,e),i)}set(e,t,i){return e.setMilliseconds(i),e}incompatibleTokens=["t","T"]};function Se(n){let e=S(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}var fn=class extends v{priority=10;parse(e,t){switch(t){case"X":return oe(re.basicOptionalMinutes,e);case"XX":return oe(re.basic,e);case"XXXX":return oe(re.basicOptionalSeconds,e);case"XXXXX":return oe(re.extendedOptionalSeconds,e);case"XXX":default:return oe(re.extended,e)}}set(e,t,i){return t.timestampIsSet?e:O(e,e.getTime()-Se(e)-i)}incompatibleTokens=["t","T","x"]};var hn=class extends v{priority=10;parse(e,t){switch(t){case"x":return oe(re.basicOptionalMinutes,e);case"xx":return oe(re.basic,e);case"xxxx":return oe(re.basicOptionalSeconds,e);case"xxxxx":return oe(re.extendedOptionalSeconds,e);case"xxx":default:return oe(re.extended,e)}}set(e,t,i){return t.timestampIsSet?e:O(e,e.getTime()-Se(e)-i)}incompatibleTokens=["t","T","X"]};var gn=class extends v{priority=40;parse(e){return Vt(e)}set(e,t,i){return[O(e,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"};var vn=class extends v{priority=20;parse(e){return Vt(e)}set(e,t,i){return[O(e,i),{timestampIsSet:!0}]}incompatibleTokens="*"};var er={G:new It,y:new zt,Y:new Lt,R:new At,u:new Nt,Q:new Bt,q:new Yt,M:new $t,L:new jt,w:new Xt,I:new Qt,d:new Ut,D:new Kt,E:new Jt,e:new en,c:new tn,i:new nn,a:new rn,b:new on,B:new an,h:new sn,H:new ln,K:new dn,k:new cn,m:new un,s:new mn,S:new pn,X:new fn,x:new hn,t:new gn,T:new vn};var To=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ko=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bo=/^'([^]*?)'?$/,Eo=/''/g,xo=/\S/,Mo=/[a-zA-Z]/;function So(n,e,t,i){let r=Pi(),o=i?.locale??r.locale??it,a=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0;if(e==="")return n===""?S(t):O(t,NaN);let c={firstWeekContainsDate:a,weekStartsOn:s,locale:o},l=[new Pt],d=e.match(ko).map(p=>{let f=p[0];if(f in rt){let w=rt[f];return w(p,o.formatLong)}return p}).join("").match(To),u=[];for(let p of d){!i?.useAdditionalWeekYearTokens&&St(p)&&ot(p,e,n),!i?.useAdditionalDayOfYearTokens&&Mt(p)&&ot(p,e,n);let f=p[0],w=er[f];if(w){let{incompatibleTokens:C}=w;if(Array.isArray(C)){let T=u.find(x=>C.includes(x.token)||x.token===f);if(T)throw new RangeError(`The format string mustn't contain \`${T.fullToken}\` and \`${p}\` at the same time`)}else if(w.incompatibleTokens==="*"&&u.length>0)throw new RangeError(`The format string mustn't contain \`${p}\` and any other token at the same time`);u.push({token:f,fullToken:p});let D=w.run(n,p,o.match,c);if(!D)return O(t,NaN);l.push(D.setter),n=D.rest}else{if(f.match(Mo))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");if(p==="''"?p="'":f==="'"&&(p=Oo(p)),n.indexOf(p)===0)n=n.slice(p.length);else return O(t,NaN)}}if(n.length>0&&xo.test(n))return O(t,NaN);let _=l.map(p=>p.priority).sort((p,f)=>f-p).filter((p,f,w)=>w.indexOf(p)===f).map(p=>l.filter(f=>f.priority===p).sort((f,w)=>w.subPriority-f.subPriority)).map(p=>p[0]),m=S(t);if(isNaN(m.getTime()))return O(t,NaN);let y={};for(let p of _){if(!p.validate(m,c))return O(t,NaN);let f=p.set(m,y,c);Array.isArray(f)?(m=f[0],Object.assign(y,f[1])):m=f}return O(t,m)}function Oo(n){return n.match(bo)[1].replace(Eo,"'")}var tr=So;function Yn(n){let e=S(n);return e.setHours(0,0,0,0),e}function nr(n,e){let t=Yn(n),i=Yn(e),r=+t-Se(t),o=+i-Se(i);return Math.round((r-o)/Bi)}function ir(n){let e=S(n),t=O(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function rr(n){let e=S(n);return nr(e,ir(e))+1}function V(n,e){let t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}var ge={y(n,e){let t=n.getFullYear(),i=t>0?t:1-t;return V(e==="yy"?i%100:i,e.length)},M(n,e){let t=n.getMonth();return e==="M"?String(t+1):V(t+1,2)},d(n,e){return V(n.getDate(),e.length)},a(n,e){let t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return V(n.getHours()%12||12,e.length)},H(n,e){return V(n.getHours(),e.length)},m(n,e){return V(n.getMinutes(),e.length)},s(n,e){return V(n.getSeconds(),e.length)},S(n,e){let t=e.length,i=n.getMilliseconds(),r=Math.trunc(i*Math.pow(10,t-3));return V(r,e.length)}};var Ge={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$n={G:function(n,e,t){let i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){let i=n.getFullYear(),r=i>0?i:1-i;return t.ordinalNumber(r,{unit:"year"})}return ge.y(n,e)},Y:function(n,e,t,i){let r=Xe(n,i),o=r>0?r:1-r;if(e==="YY"){let a=o%100;return V(a,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):V(o,e.length)},R:function(n,e){let t=qt(n);return V(t,e.length)},u:function(n,e){let t=n.getFullYear();return V(t,e.length)},Q:function(n,e,t){let i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return V(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){let i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return V(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){let i=n.getMonth();switch(e){case"M":case"MM":return ge.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){let i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return V(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){let r=at(n,i);return e==="wo"?t.ordinalNumber(r,{unit:"week"}):V(r,e.length)},I:function(n,e,t){let i=Gt(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):V(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ge.d(n,e)},D:function(n,e,t){let i=rr(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):V(i,e.length)},E:function(n,e,t){let i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){let r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return V(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){let r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return V(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(n,e,t){let i=n.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return V(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){let r=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,e,t){let i=n.getHours(),r;switch(i===12?r=Ge.noon:i===0?r=Ge.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,e,t){let i=n.getHours(),r;switch(i>=17?r=Ge.evening:i>=12?r=Ge.afternoon:i>=4?r=Ge.morning:r=Ge.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return ge.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ge.H(n,e)},K:function(n,e,t){let i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):V(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):V(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ge.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ge.s(n,e)},S:function(n,e){return ge.S(n,e)},X:function(n,e,t){let i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return ar(i);case"XXXX":case"XX":return Oe(i);case"XXXXX":case"XXX":default:return Oe(i,":")}},x:function(n,e,t){let i=n.getTimezoneOffset();switch(e){case"x":return ar(i);case"xxxx":case"xx":return Oe(i);case"xxxxx":case"xxx":default:return Oe(i,":")}},O:function(n,e,t){let i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+or(i,":");case"OOOO":default:return"GMT"+Oe(i,":")}},z:function(n,e,t){let i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+or(i,":");case"zzzz":default:return"GMT"+Oe(i,":")}},t:function(n,e,t){let i=Math.trunc(n.getTime()/1e3);return V(i,e.length)},T:function(n,e,t){let i=n.getTime();return V(i,e.length)}};function or(n,e=""){let t=n>0?"-":"+",i=Math.abs(n),r=Math.trunc(i/60),o=i%60;return o===0?t+String(r):t+String(r)+e+V(o,2)}function ar(n,e){return n%60===0?(n>0?"-":"+")+V(Math.abs(n)/60,2):Oe(n,e)}function Oe(n,e=""){let t=n>0?"-":"+",i=Math.abs(n),r=V(Math.trunc(i/60),2),o=V(i%60,2);return t+r+e+o}function sr(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function lr(n){if(!sr(n)&&typeof n!="number")return!1;let e=S(n);return!isNaN(Number(e))}var Ho=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Po=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Io=/^'([^]*?)'?$/,Wo=/''/g,Vo=/[a-zA-Z]/;function Fo(n,e,t){let i=ie(),r=t?.locale??i.locale??it,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,s=S(n);if(!lr(s))throw new RangeError("Invalid time value");let c=e.match(Po).map(d=>{let u=d[0];if(u==="p"||u==="P"){let _=rt[u];return _(d,r.formatLong)}return d}).join("").match(Ho).map(d=>{if(d==="''")return{isToken:!1,value:"'"};let u=d[0];if(u==="'")return{isToken:!1,value:Ro(d)};if($n[u])return{isToken:!0,value:d};if(u.match(Vo))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:d}});r.localize.preprocessor&&(c=r.localize.preprocessor(s,c));let l={firstWeekContainsDate:o,weekStartsOn:a,locale:r};return c.map(d=>{if(!d.isToken)return d.value;let u=d.value;(!t?.useAdditionalWeekYearTokens&&St(u)||!t?.useAdditionalDayOfYearTokens&&Mt(u))&&ot(u,e,String(n));let _=$n[u[0]];return _(s,u,r.localize,l)}).join("")}function Ro(n){let e=n.match(Io);return e?e[1].replace(Wo,"'"):n}var dr=Fo;var zo=(()=>{let e=class e extends Hi{constructor(i,r){super(i),this.options=r||{}}format(i,r){return i?dr(i,r||this.options.format,this.options.formatOptions):""}parse(i,r){return tr(i,r||this.options.format,new Date,this.options.parseOptions)}getId(){return"date-fns"}getWeekNumber(i){return Gi(i,this.options.getWeekOptions)}getDateFormat(){return"YYYY-MM-dd"}};e.\u0275fac=function(r){return new(r||e)(Ce(Ae),Ce(Et,8))},e.\u0275prov=me({token:e,factory:e.\u0275fac});let n=e;return n})();var jn={provide:Oi,useClass:zo},Fm=(()=>{let e=class e{static forRoot(i){return{ngModule:e,providers:[jn,{provide:Et,useValue:i}]}}static forChild(i){return{ngModule:e,providers:[jn,{provide:Et,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ee({type:e}),e.\u0275inj=J({providers:[jn]});let n=e;return n})();var Lo=function(){function n(){}return n.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},n.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},n.prototype.isStaticPositioned=function(e){return(this.getStyle(e,"position")||"static")==="static"},n.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},n.prototype.position=function(e,t){t===void 0&&(t=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if(this.getStyle(e,"position")==="fixed")i=e.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var o=this.offsetParent(e);i=this.offset(e,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,t&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(e,t){t===void 0&&(t=!0);var i=e.getBoundingClientRect(),r={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},o={height:i.height||e.offsetHeight,width:i.width||e.offsetWidth,top:i.top+r.top,bottom:i.bottom+r.top,left:i.left+r.left,right:i.right+r.left};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},n.prototype.positionElements=function(e,t,i,r){var o=i.split("-"),a=o[0],s=a===void 0?"top":a,c=o[1],l=c===void 0?"center":c,d=r?this.offset(e,!1):this.position(e,!1),u=this.getAllStyles(t),_=parseFloat(u.marginTop),m=parseFloat(u.marginBottom),y=parseFloat(u.marginLeft),p=parseFloat(u.marginRight),f=0,w=0;switch(s){case"top":f=d.top-(t.offsetHeight+_+m);break;case"bottom":f=d.top+d.height;break;case"left":w=d.left-(t.offsetWidth+y+p);break;case"right":w=d.left+d.width;break}switch(l){case"top":f=d.top;break;case"bottom":f=d.top+d.height-t.offsetHeight;break;case"left":w=d.left;break;case"right":w=d.left+d.width-t.offsetWidth;break;case"center":s==="top"||s==="bottom"?w=d.left+d.width/2-t.offsetWidth/2:f=d.top+d.height/2-t.offsetHeight/2;break}t.style.transform="translate("+Math.round(w)+"px, "+Math.round(f)+"px)";var C=t.getBoundingClientRect(),D=document.documentElement,T=window.innerHeight||D.clientHeight,x=window.innerWidth||D.clientWidth;return C.left>=0&&C.top>=0&&C.right<=x&&C.bottom<=T},n}();var Ao=/\s+/,cr=new Lo;function qn(n,e,t,i,r){var o=Array.isArray(t)?t:t.split(Ao),a=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=e.classList,c=function(f){var w=f.split("-"),C=w[0],D=w[1],T=[];return r&&(T.push(r+"-"+C),D&&T.push(r+"-"+C+"-"+D),T.forEach(function(x){s.add(x)})),T};r&&a.forEach(function(f){s.remove(r+"-"+f)});var l=o.findIndex(function(f){return f==="auto"});l>=0&&a.forEach(function(f){o.find(function(w){return w.search("^"+f)!==-1})==null&&o.splice(l++,1,f)});var d=e.style;d.position="absolute",d.top="0",d.left="0",d["will-change"]="transform";for(var u,_=!1,m=0,y=o;m<y.length;m++){u=y[m];var p=c(u);if(cr.positionElements(n,e,u,i)){_=!0;break}r&&p.forEach(function(f){s.remove(f)})}return _||(u=o[0],c(u),cr.positionElements(n,e,u,i)),u}var de=function(){return de=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},de.apply(this,arguments)},Gn=function(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,o;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))},Dn=function(n){return n[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",n}(Dn||{}),No=[Dn.SUNDAY,Dn.SATURDAY],Qn=7,Un=24,wn=60,ye=60*60*24;function ur(n,e){var t=e.startDate,i=e.seconds,r=e.excluded,o=e.precision;if(r.length<1)return 0;for(var a=n.addSeconds,s=n.getDay,c=n.addDays,l=a(t,i-1),d=s(t),u=s(l),_=0,m=t,y=function(){var p=s(m);r.some(function(f){return f===p})&&(_+=Bo(n,{dayStart:d,dayEnd:u,day:p,precision:o,startDate:t,endDate:l})),m=c(m,1)};m<l;)y();return _}function Bo(n,e){var t=e.precision,i=e.day,r=e.dayStart,o=e.dayEnd,a=e.startDate,s=e.endDate,c=n.differenceInSeconds,l=n.endOfDay,d=n.startOfDay;if(t==="minutes"){if(i===r)return c(l(a),a)+1;if(i===o)return c(s,d(s))+1}return ye}function Yo(n,e){var t=e.event,i=e.offset,r=e.startOfWeekDate,o=e.excluded,a=e.precision,s=e.totalDaysInView,c=n.max,l=n.differenceInSeconds,d=n.addDays,u=n.endOfDay,_=n.differenceInDays,m=ye,y=c([t.start,r]);if(t.end)switch(a){case"minutes":m=l(t.end,y);break;default:m=_(d(u(t.end),1),y)*ye;break}var p=i*ye,f=p+m,w=s*ye;return f>w&&(m=w-p),m-=ur(n,{startDate:y,seconds:m,excluded:o,precision:a}),m/ye}function $o(n,e){var t=e.event,i=e.startOfWeek,r=e.excluded,o=e.precision,a=n.differenceInDays,s=n.startOfDay,c=n.differenceInSeconds;if(t.start<i)return 0;var l=0;switch(o){case"days":l=a(s(t.start),i)*ye;break;case"minutes":l=c(t.start,i);break}return l-=ur(n,{startDate:i,seconds:l,excluded:r,precision:o}),Math.abs(l/ye)}function jo(n,e){var t=e.event,i=e.periodStart,r=e.periodEnd,o=n.isSameSecond,a=t.start,s=t.end||t.start;return!!(a>i&&a<r||s>i&&s<r||a<i&&s>r||o(a,i)||o(a,r)||o(s,i)||o(s,r))}function st(n,e){var t=e.events,i=e.periodStart,r=e.periodEnd;return t.filter(function(o){return jo(n,{event:o,periodStart:i,periodEnd:r})})}function mr(n,e){var t=e.date,i=e.weekendDays,r=i===void 0?No:i,o=n.startOfDay,a=n.isSameDay,s=n.getDay,c=o(new Date),l=s(t);return{date:t,day:l,isPast:t<c,isToday:a(t,c),isFuture:t>c,isWeekend:r.indexOf(l)>-1}}function Tn(n,e){for(var t=e.viewDate,i=e.weekStartsOn,r=e.excluded,o=r===void 0?[]:r,a=e.weekendDays,s=e.viewStart,c=s===void 0?n.startOfWeek(t,{weekStartsOn:i}):s,l=e.viewEnd,d=l===void 0?n.addDays(c,Qn):l,u=n.addDays,_=n.getDay,m=[],y=c;y<d;)o.some(function(p){return _(y)===p})||m.push(mr(n,{date:y,weekendDays:a})),y=u(y,1);return m}function Xo(n,e){for(var t=e.date1,i=e.date2,r=e.excluded,o=t,a=0;o<i;)r.indexOf(n.getDay(o))===-1&&a++,o=n.addDays(o,1);return a}function qo(n,e){var t=e.events,i=t===void 0?[]:t,r=e.excluded,o=r===void 0?[]:r,a=e.precision,s=a===void 0?"days":a,c=e.absolutePositionedEvents,l=c===void 0?!1:c,d=e.viewStart,u=e.viewEnd;d=n.startOfDay(d),u=n.endOfDay(u);var _=n.differenceInSeconds,m=n.differenceInDays,y=Xo(n,{date1:d,date2:u,excluded:o}),p=m(u,d)+1,f=i.filter(function(D){return D.allDay}).map(function(D){var T=$o(n,{event:D,startOfWeek:d,excluded:o,precision:s}),x=Yo(n,{event:D,offset:T,startOfWeekDate:d,excluded:o,precision:s,totalDaysInView:p});return{event:D,offset:T,span:x}}).filter(function(D){return D.offset<y}).filter(function(D){return D.span>0}).map(function(D){return{event:D.event,offset:D.offset,span:D.span,startsBeforeWeek:D.event.start<d,endsAfterWeek:(D.event.end||D.event.start)>u}}).sort(function(D,T){var x=_(D.event.start,T.event.start);return x===0?_(T.event.end||T.event.start,D.event.end||D.event.start):x}),w=[],C=[];return f.forEach(function(D,T){if(C.indexOf(D)===-1){C.push(D);var x=D.span+D.offset,N=f.slice(T+1).filter(function(b){if(b.offset>=x&&x+b.span<=p&&C.indexOf(b)===-1){var M=b.offset-x;return l||(b.offset=M),x+=b.span+M,C.push(b),!0}}),j=Gn([D],N,!0),H=j.filter(function(b){return b.event.id}).map(function(b){return b.event.id}).join("-");w.push(de({row:j},H?{id:H}:{}))}}),w}function Go(n,e){var t=e.events,i=e.viewDate,r=e.hourSegments,o=e.hourDuration,a=e.dayStart,s=e.dayEnd,c=e.weekStartsOn,l=e.excluded,d=e.weekendDays,u=e.segmentHeight,_=e.viewStart,m=e.viewEnd,y=e.minimumEventHeight,p=Uo(n,{viewDate:i,hourSegments:r,hourDuration:o,dayStart:a,dayEnd:s}),f=Tn(n,{viewDate:i,weekStartsOn:c,excluded:l,weekendDays:d,viewStart:_,viewEnd:m}),w=n.setHours,C=n.setMinutes,D=n.getHours,T=n.getMinutes;return f.map(function(x){var N=Qo(n,{events:t,viewDate:x.date,hourSegments:r,dayStart:a,dayEnd:s,segmentHeight:u,eventWidth:1,hourDuration:o,minimumEventHeight:y}),j=p.map(function(M){var g=M.segments.map(function(h){var B=C(w(x.date,D(h.date)),T(h.date));return de(de({},h),{date:B})});return de(de({},M),{segments:g})});function H(M,g){var h=Math.max.apply(Math,g.map(function(z){return z.left+1})),B=M.filter(function(z){return z.left>=h}).filter(function(z){return yn(g,z.top,z.top+z.height).length>0});return B.length>0?H(M,B):h}var b=N.events.map(function(M){var g=H(N.events,yn(N.events,M.top,M.top+M.height)),h=100/g;return de(de({},M),{left:M.left*h,width:h})});return{hours:j,date:x.date,events:b.map(function(M){var g=yn(b.filter(function(h){return h.left>M.left}),M.top,M.top+M.height);return g.length>0?de(de({},M),{width:Math.min.apply(Math,g.map(function(h){return h.left}))-M.left}):M})}})}function pr(n,e){var t=e.events,i=t===void 0?[]:t,r=e.viewDate,o=e.weekStartsOn,a=e.excluded,s=a===void 0?[]:a,c=e.precision,l=c===void 0?"days":c,d=e.absolutePositionedEvents,u=d===void 0?!1:d,_=e.hourSegments,m=e.hourDuration,y=e.dayStart,p=e.dayEnd,f=e.weekendDays,w=e.segmentHeight,C=e.minimumEventHeight,D=e.viewStart,T=D===void 0?n.startOfWeek(r,{weekStartsOn:o}):D,x=e.viewEnd,N=x===void 0?n.endOfWeek(r,{weekStartsOn:o}):x;i||(i=[]);var j=n.startOfDay,H=n.endOfDay;T=j(T),N=H(N);var b=st(n,{events:i,periodStart:T,periodEnd:N}),M=Tn(n,{viewDate:r,weekStartsOn:o,excluded:s,weekendDays:f,viewStart:T,viewEnd:N});return{allDayEventRows:qo(n,{events:b,excluded:s,precision:l,absolutePositionedEvents:u,viewStart:T,viewEnd:N}),period:{events:b,start:M[0].date,end:H(M[M.length-1].date)},hourColumns:Go(n,{events:i,viewDate:r,hourSegments:_,hourDuration:m,dayStart:y,dayEnd:p,weekStartsOn:o,excluded:s,weekendDays:f,segmentHeight:w,viewStart:T,viewEnd:N,minimumEventHeight:C})}}function fr(n,e){var t=e.events,i=t===void 0?[]:t,r=e.viewDate,o=e.weekStartsOn,a=e.excluded,s=a===void 0?[]:a,c=e.viewStart,l=c===void 0?n.startOfMonth(r):c,d=e.viewEnd,u=d===void 0?n.endOfMonth(r):d,_=e.weekendDays;i||(i=[]);for(var m=n.startOfWeek,y=n.endOfWeek,p=n.differenceInDays,f=n.startOfDay,w=n.addHours,C=n.endOfDay,D=n.isSameMonth,T=n.getDay,x=m(l,{weekStartsOn:o}),N=y(u,{weekStartsOn:o}),j=st(n,{events:i,periodStart:x,periodEnd:N}),H=[],b,M=function(On){var U;if(b?(U=f(w(b,Un)),b.getTime()===U.getTime()&&(U=f(w(b,Un+1))),b=U):U=b=x,!s.some(function(Hn){return T(U)===Hn})){var Pe=mr(n,{date:U,weekendDays:_}),ae=st(n,{events:j,periodStart:f(U),periodEnd:C(U)});Pe.inMonth=D(U,r),Pe.events=ae,Pe.badgeTotal=ae.length,H.push(Pe)}},g=0;g<p(N,x)+1;g++)M(g);var h=[],B=Qn-s.length;if(B<Qn)for(var g=0;g<H.length;g+=B){var z=H.slice(g,g+B),Mn=z.some(function(U){return l<=U.date&&U.date<u});Mn&&(h=Gn(Gn([],h,!0),z,!0))}else h=H;for(var Sn=Math.floor(h.length/B),gt=[],g=0;g<Sn;g++)gt.push(g*B);return{rowOffsets:gt,totalDaysVisibleInWeek:B,days:h,period:{start:h[0].date,end:C(h[h.length-1].date),events:j}}}function yn(n,e,t){return n.filter(function(i){var r=i.top,o=i.top+i.height;return e<o&&o<t||e<r&&r<t?!0:r<=e&&t<=o})}function Qo(n,e){var t=e.events,i=e.viewDate,r=e.hourSegments,o=e.dayStart,a=e.dayEnd,s=e.eventWidth,c=e.segmentHeight,l=e.hourDuration,d=e.minimumEventHeight,u=n.setMinutes,_=n.setHours,m=n.startOfDay,y=n.startOfMinute,p=n.endOfDay,f=n.differenceInMinutes,w=u(_(m(i),_n(o.hour)),Cn(o.minute)),C=u(_(y(p(i)),_n(a.hour)),Cn(a.minute));C.setSeconds(59,999);var D=[],T=st(n,{events:t.filter(function(H){return!H.allDay}),periodStart:w,periodEnd:C}),x=T.sort(function(H,b){return H.start.valueOf()-b.start.valueOf()}).map(function(H){var b=H.start,M=H.end||b,g=b<w,h=M>C,B=r*c/(l||wn),z=0;if(b>w){var Mn=n.getTimezoneOffset(b),Sn=n.getTimezoneOffset(w),gt=Sn-Mn;z+=f(b,w)+gt}z*=B,z=Math.floor(z);var On=g?w:b,U=h?C:M,Pe=n.getTimezoneOffset(On)-n.getTimezoneOffset(U),ae=f(U,On)+Pe;H.end?ae*=B:ae=c,d&&ae<d&&(ae=d),ae=Math.floor(ae);for(var Hn=z+ae,Vr=yn(D,z,Hn),Pn=0;Vr.some(function(Fr){return Fr.left===Pn});)Pn+=s;var mi={event:H,height:ae,width:s,top:z,left:Pn,startsBeforeDay:g,endsAfterDay:h};return D.push(mi),mi}),N=Math.max.apply(Math,x.map(function(H){return H.left+H.width})),j=st(n,{events:t.filter(function(H){return H.allDay}),periodStart:m(w),periodEnd:p(C)});return{events:x,width:N,allDayEvents:j,period:{events:T,start:w,end:C}}}function _n(n){return Math.max(Math.min(23,n),0)}function Cn(n){return Math.max(Math.min(59,n),0)}function Uo(n,e){var t=e.viewDate,i=e.hourSegments,r=e.hourDuration,o=e.dayStart,a=e.dayEnd,s=n.setMinutes,c=n.setHours,l=n.startOfDay,d=n.startOfMinute,u=n.endOfDay,_=n.addMinutes,m=n.addDays,y=[],p=s(c(l(t),_n(o.hour)),Cn(o.minute)),f=s(c(d(u(t)),_n(a.hour)),Cn(a.minute)),w=(r||wn)/i,C=l(t),D=u(t),T=function(M){return M};n.getTimezoneOffset(C)!==n.getTimezoneOffset(D)&&(C=m(C,1),p=m(p,1),f=m(f,1),T=function(M){return m(M,-1)});for(var x=r?Un*60/r:wn,N=0;N<x;N++){for(var j=[],H=0;H<i;H++){var b=_(_(p,N*(r||wn)),H*w);b>=p&&b<f&&j.push({date:T(b),displayDate:b,isStart:H===0})}j.length>0&&y.push({segments:j})}return y}var Qe=function(n){return n.NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",n}(Qe||{});function hr(n,e){var t=!0;function i(r,o){e(r,o),t=!1}return Array.isArray(n)?(n.forEach(function(r){r.start?r.start instanceof Date||i(Qe.StartPropertyNotDate,r):i(Qe.StartPropertyMissing,r),r.end&&(r.end instanceof Date||i(Qe.EndPropertyNotDate,r),r.start>r.end&&i(Qe.EndsBeforeStart,r))}),t):(e(Qe.NotArray,n),!1)}function Ko(n,e){return typeof n>"u"?typeof e>"u"?n:e:n}function ei(n,e){return n=Ko(n,e),typeof n=="function"?function(){for(var i=arguments,r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=i[a];return!!n.apply(this,o)}:n?function(){return!0}:function(){return!1}}var Kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol?"symbol":typeof n},vr=function(n){return n!=null&&(typeof n>"u"?"undefined":Kn(n))==="object"&&n.nodeType===1&&Kn(n.style)==="object"&&Kn(n.ownerDocument)==="object"};function wr(n,e){if(e=ii(e,!0),!vr(e))return-1;for(var t=0;t<n.length;t++)if(n[t]===e)return t;return-1}function ti(n,e){return wr(n,e)!==-1}function Zo(n,e){for(var t=0;t<e.length;t++)ti(n,e[t])||n.push(e[t]);return e}function Jo(n){for(var e=arguments,t=[],i=arguments.length-1;i-- >0;)t[i]=e[i+1];return t=t.map(ii),Zo(n,t)}function ea(n){for(var e=arguments,t=[],i=arguments.length-1;i-- >0;)t[i]=e[i+1];return t.map(ii).reduce(function(r,o){var a=wr(n,o);return a!==-1?r.concat(n.splice(a,1)):r},[])}function ii(n,e){if(typeof n=="string")try{return document.querySelector(n)}catch(t){throw t}if(!vr(n)&&!e)throw new TypeError(n+" is not a DOM element.");return n}function ta(n,e){e=e||{};var t=ei(e.allowUpdate,!0);return function(r){if(r=r||window.event,n.target=r.target||r.srcElement||r.originalTarget,n.element=this,n.type=r.type,!!t(r)){if(r.targetTouches)n.x=r.targetTouches[0].clientX,n.y=r.targetTouches[0].clientY,n.pageX=r.targetTouches[0].pageX,n.pageY=r.targetTouches[0].pageY,n.screenX=r.targetTouches[0].screenX,n.screenY=r.targetTouches[0].screenY;else{if(r.pageX===null&&r.clientX!==null){var o=r.target&&r.target.ownerDocument||document,a=o.documentElement,s=o.body;n.pageX=r.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),n.pageY=r.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}else n.pageX=r.pageX,n.pageY=r.pageY;n.x=r.clientX,n.y=r.clientY,n.screenX=r.screenX,n.screenY=r.screenY}n.clientX=n.x,n.clientY=n.y}}}function na(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var e={};return Object.defineProperties(e,n),e}function yr(n){if(n===window)return na();try{var e=n.getBoundingClientRect();return e.x===void 0&&(e.x=e.left,e.y=e.top),e}catch{throw new TypeError("Can't call getBoundingClientRect on "+n)}}function ia(n,e){var t=yr(e);return n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right}var ni=void 0;typeof Object.create!="function"?ni=function(n){var e=function(){};return function(t,i){if(t!==Object(t)&&t!==null)throw TypeError("Argument must be an object, or null");e.prototype=t||{};var r=new e;return e.prototype=null,i!==n&&Object.defineProperties(r,i),t===null&&(r.__proto__=null),r}}():ni=Object.create;var ra=ni,He=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function oa(n){var e={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};n!==void 0&&n.addEventListener("mousemove",t);function t(o){for(var a=0;a<He.length;a++)e[He[a]]=o[He[a]]}var i=function(){if(MouseEvent)return function(a,s,c){var l=new MouseEvent("mousemove",Zn(e,s));return Jn(l,c),a.dispatchEvent(l)};if(typeof document.createEvent=="function")return function(a,s,c){var l=Zn(e,s),d=document.createEvent("MouseEvents");return d.initMouseEvent("mousemove",!0,!0,window,0,l.screenX,l.screenY,l.clientX,l.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget),Jn(d,c),a.dispatchEvent(d)};if(typeof document.createEventObject=="function")return function(a,s,c){var l=document.createEventObject(),d=Zn(e,s);for(var u in d)l[u]=d[u];return Jn(l,c),a.dispatchEvent(l)}}();function r(){n&&n.removeEventListener("mousemove",t,!1),e=null}return{destroy:r,dispatch:i}}function Zn(n,e){e=e||{};for(var t=ra(n),i=0;i<He.length;i++)e[He[i]]!==void 0&&(t[He[i]]=e[He[i]]);return t}function Jn(n,e){console.log("data ",e),n.data=e||{},n.dispatched="mousemove"}var dt=["webkit","moz","ms","o"],lt=function(){if(typeof window>"u")return function(){};for(var n=0,e=dt.length;n<e&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[dt[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var t=0;window.requestAnimationFrame=function(i){var r=new Date().getTime(),o=Math.max(0,16-r-t),a=window.setTimeout(function(){return i(r+o)},o);return t=r+o,a}}return window.requestAnimationFrame.bind(window)}(),Ue=function(){if(typeof window>"u")return function(){};for(var n=0,e=dt.length;n<e&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[dt[n]+"CancelAnimationFrame"]||window[dt[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){window.clearTimeout(t)}),window.cancelAnimationFrame.bind(window)}();function aa(n,e){e===void 0&&(e={});var t=this,i=4,r=!1;if(typeof e.margin!="object"){var o=e.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=e.margin;this.scrollWhenOutside=e.scrollWhenOutside||!1;var a={},s=ta(a),c=oa(),l=!1;window.addEventListener("mousemove",s,!1),window.addEventListener("touchmove",s,!1),isNaN(e.maxSpeed)||(i=e.maxSpeed),typeof i!="object"&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=ei(e.autoScroll),this.syncMove=ei(e.syncMove,!1),this.destroy=function(g){window.removeEventListener("mousemove",s,!1),window.removeEventListener("touchmove",s,!1),window.removeEventListener("mousedown",p,!1),window.removeEventListener("touchstart",p,!1),window.removeEventListener("mouseup",f,!1),window.removeEventListener("touchend",f,!1),window.removeEventListener("pointerup",f,!1),window.removeEventListener("mouseleave",C,!1),window.removeEventListener("mousemove",x,!1),window.removeEventListener("touchmove",x,!1),window.removeEventListener("scroll",y,!0),n=[],g&&w()},this.add=function(){for(var g=[],h=arguments.length;h--;)g[h]=arguments[h];return Jo.apply(void 0,[n].concat(g)),this},this.remove=function(){for(var g=[],h=arguments.length;h--;)g[h]=arguments[h];return ea.apply(void 0,[n].concat(g))};var d=null,u;Object.prototype.toString.call(n)!=="[object Array]"&&(n=[n]),function(g){n=[],g.forEach(function(h){h===window?d=window:t.add(h)})}(n),Object.defineProperties(this,{down:{get:function(){return l}},maxSpeed:{get:function(){return i}},point:{get:function(){return a}},scrolling:{get:function(){return r}}});var _=null,m;window.addEventListener("mousedown",p,!1),window.addEventListener("touchstart",p,!1),window.addEventListener("mouseup",f,!1),window.addEventListener("touchend",f,!1),window.addEventListener("pointerup",f,!1),window.addEventListener("mousemove",x,!1),window.addEventListener("touchmove",x,!1),window.addEventListener("mouseleave",C,!1),window.addEventListener("scroll",y,!0);function y(g){for(var h=0;h<n.length;h++)if(n[h]===g.target){r=!0;break}r&&lt(function(){return r=!1})}function p(){l=!0}function f(){l=!1,w()}function w(){Ue(m),Ue(u)}function C(){l=!1}function D(g){if(!g)return null;if(_===g||ti(n,g))return g;for(;g=g.parentNode;)if(ti(n,g))return g;return null}function T(){for(var g=null,h=0;h<n.length;h++)gr(a,n[h])&&(g=n[h]);return g}function x(g){if(t.autoScroll()&&!g.dispatched){var h=g.target,B=document.body;_&&!gr(a,_)&&(t.scrollWhenOutside||(_=null)),h&&h.parentNode===B?h=T():(h=D(h),h||(h=T())),h&&h!==_&&(_=h),d&&(Ue(u),u=lt(N)),_&&(Ue(m),m=lt(j))}}function N(){H(d),Ue(u),u=lt(N)}function j(){_&&(H(_),Ue(m),m=lt(j))}function H(g){var h=yr(g),B,z;a.x<h.left+t.margin.left?B=Math.floor(Math.max(-1,(a.x-h.left)/t.margin.left-1)*t.maxSpeed.left):a.x>h.right-t.margin.right?B=Math.ceil(Math.min(1,(a.x-h.right)/t.margin.right+1)*t.maxSpeed.right):B=0,a.y<h.top+t.margin.top?z=Math.floor(Math.max(-1,(a.y-h.top)/t.margin.top-1)*t.maxSpeed.top):a.y>h.bottom-t.margin.bottom?z=Math.ceil(Math.min(1,(a.y-h.bottom)/t.margin.bottom+1)*t.maxSpeed.bottom):z=0,t.syncMove()&&c.dispatch(g,{pageX:a.pageX+B,pageY:a.pageY+z,clientX:a.x+B,clientY:a.y+z}),setTimeout(function(){z&&b(g,z),B&&M(g,B)})}function b(g,h){g===window?window.scrollTo(g.pageXOffset,g.pageYOffset+h):g.scrollTop+=h}function M(g,h){g===window?window.scrollTo(g.pageXOffset+h,g.pageYOffset):g.scrollLeft+=h}}function sa(n,e){return new aa(n,e)}function gr(n,e,t){return t?n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right:ia(n,e)}var Dr=sa;function ri(n,e,t){t&&t.split(" ").forEach(i=>n.addClass(e.nativeElement,i))}function kn(n,e,t){t&&t.split(" ").forEach(i=>n.removeClass(e.nativeElement,i))}var Cr=(()=>{class n{constructor(){this.currentDrag=new ce}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tr=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(E(pe))},n.\u0275dir=te({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),oi=(()=>{class n{constructor(t,i,r,o,a,s,c){this.element=t,this.renderer=i,this.draggableHelper=r,this.zone=o,this.vcr=a,this.scrollContainer=s,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new L,this.dragStart=new L,this.ghostElementCreated=new L,this.dragging=new L,this.dragEnd=new L,this.pointerDown$=new ce,this.pointerMove$=new ce,this.pointerUp$=new ce,this.eventListenerSubscriptions={},this.destroy$=new ce,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();let t=this.pointerDown$.pipe(_e(()=>this.canDrag()),In(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();let r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText(`
          body * {
           -moz-user-select: none;
           -ms-user-select: none;
           -webkit-user-select: none;
           user-select: none;
          }
        `)),requestAnimationFrame(()=>{this.document.head.appendChild(r)});let o=this.getScrollPosition(),a=new wt(m=>{let y=this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window";return this.renderer.listen(y,"scroll",p=>m.next(p))}).pipe(Fn(o),se(()=>this.getScrollPosition())),s=new ce,c=new pi;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});let l=yt(this.pointerUp$,this.pointerDown$,c,this.destroy$).pipe(We()),d=hi([this.pointerMove$,a]).pipe(se(([m,y])=>({currentDrag$:s,transformX:m.clientX-i.clientX,transformY:m.clientY-i.clientY,clientX:m.clientX,clientY:m.clientY,scrollLeft:y.left,scrollTop:y.top,target:m.event.target})),se(m=>(this.dragSnapGrid.x&&(m.transformX=Math.round(m.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(m.transformY=Math.round(m.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),m)),se(m=>(this.dragAxis.x||(m.transformX=0),this.dragAxis.y||(m.transformY=0),m)),se(m=>{let y=m.scrollLeft-o.left,p=m.scrollTop-o.top;return vt(Ie({},m),{x:m.transformX+y,y:m.transformY+p})}),_e(({x:m,y,transformX:p,transformY:f})=>!this.validateDrag||this.validateDrag({x:m,y,transform:{x:p,y:f}})),Ze(l),We()),u=d.pipe(Ke(1),We()),_=d.pipe(yi(1),We());return u.subscribe(({clientX:m,clientY:y,x:p,y:f})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:c})}),this.scroller=Dr([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],vt(Ie({},this.autoScroll),{autoScroll(){return!0}})),ri(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){let w=this.element.nativeElement.getBoundingClientRect(),C=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(C):this.element.nativeElement.parentNode.insertBefore(C,this.element.nativeElement.nextSibling),this.ghostElement=C,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(C,{position:"fixed",top:`${w.top}px`,left:`${w.left}px`,width:`${w.width}px`,height:`${w.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){let D=this.vcr.createEmbeddedView(this.ghostElementTemplate);C.innerHTML="",D.rootNodes.filter(T=>T instanceof Node).forEach(T=>{C.appendChild(T)}),_.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(D))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:m-p,clientY:y-f,element:C})}),_.subscribe(()=>{C.parentElement.removeChild(C),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(s)}),_.pipe(In(m=>{let y=c.pipe(vi(),Ke(1),se(p=>vt(Ie({},m),{dragCancelled:p>0})));return c.complete(),y})).subscribe(({x:m,y,dragCancelled:p})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:m,y,dragCancelled:p})}),kn(this.renderer,this.element,this.dragActiveClass),s.complete()}),yt(l,_).pipe(Ke(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),d}),We());yt(t.pipe(Ke(1),se(i=>[,i])),t.pipe(Vn())).pipe(_e(([i,r])=>i?i.x!==r.x||i.y!==r.y:!0),se(([i,r])=>r)).subscribe(({x:i,y:r,currentDrag$:o,clientX:a,clientY:s,transformX:c,transformY:l,target:d})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){let u=`translate3d(${c}px, ${l}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:u,"-webkit-transform":u,"-ms-transform":u,"-moz-transform":u,"-o-transform":u})}}),o.next({clientX:a,clientY:s,dropData:this.dropData,target:d})})}ngOnChanges(t){t.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){let t=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;t&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!t&&i&&this.unsubscribeEventListeners()}onMouseDown(t){t.button===0&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onMouseUp(t){t.button===0&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onTouchStart(t){let i,r,o;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,o=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){let a=Wn(this.document,"contextmenu").subscribe(c=>{c.preventDefault()}),s=Wn(this.document,"touchmove",{passive:!1}).subscribe(c=>{this.touchStartLongPress&&!r&&o&&(r=this.shouldBeginDrag(t,c,i)),(!this.touchStartLongPress||!o||r)&&(c.preventDefault(),this.pointerMove$.next({event:c,clientX:c.targetTouches[0].clientX,clientY:c.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{a.unsubscribe(),s.unsubscribe()}}this.pointerDown$.next({event:t,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY})}onTouchEnd(t){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:t,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(t){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",t)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(t=>{this.eventListenerSubscriptions[t](),delete this.eventListenerSubscriptions[t]})}setElementStyles(t,i){Object.keys(i).forEach(r=>{this.renderer.setStyle(t,r,i[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(t,i,r){let o=this.getScrollPosition(),a={top:Math.abs(o.top-r.top),left:Math.abs(o.left-r.left)},s=Math.abs(i.targetTouches[0].clientX-t.touches[0].clientX)-a.left,c=Math.abs(i.targetTouches[0].clientY-t.touches[0].clientY)-a.top,l=s+c,d=this.touchStartLongPress;return(l>d.delta||a.top>0||a.left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=d.delay?(this.disableScroll(),!0):!1}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){let t=this.getScrollElement(),i=t.scrollWidth>t.clientWidth,r=t.scrollHeight>t.clientHeight;return i||r}}return n.\u0275fac=function(t){return new(t||n)(E(pe),E(we),E(Cr),E(Ve),E(Ct),E(Tr,8),E(tt))},n.\u0275dir=te({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[Je]}),n})();function _r(n,e,t){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom}var kr=(()=>{class n{constructor(t,i,r,o,a){this.element=t,this.draggableHelper=i,this.zone=r,this.renderer=o,this.scrollContainer=a,this.dragEnter=new L,this.dragLeave=new L,this.dragOver=new L,this.drop=new L}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(t=>{ri(this.renderer,this.element,this.dragActiveClass);let i={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0}),o,a=t.pipe(se(({clientX:l,clientY:d,dropData:u,target:_})=>{o={clientX:l,clientY:d,dropData:u,target:_},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);let m=_r(l,d,i.rect),y=!this.validateDrop||this.validateDrop({clientX:l,clientY:d,target:_,dropData:u});return i.scrollContainerRect?m&&y&&_r(l,d,i.scrollContainerRect):m&&y})),s=a.pipe(wi()),c;s.pipe(_e(l=>l)).subscribe(()=>{c=!0,ri(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(o)})}),a.pipe(_e(l=>l)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(o)})}),s.pipe(Vn(),_e(([l,d])=>l&&!d)).subscribe(()=>{c=!1,kn(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(o)})}),t.subscribe({complete:()=>{r(),kn(this.renderer,this.element,this.dragActiveClass),c&&(kn(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(o)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(E(pe),E(Cr),E(Ve),E(we),E(Tr,8))},n.\u0275dir=te({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),ct=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ee({type:n}),n.\u0275inj=J({}),n})();var np=typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;var ip=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});var ai=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ee({type:n}),n.\u0275inj=J({}),n})();var da=(n,e)=>({event:n,trackByActionId:e}),ca=n=>({action:n});function ua(n,e){if(n&1){let t=ke();Y(0,"a",5),K(1,"calendarA11y"),ne("mwlClick",function(r){let o=q(t).$implicit,a=R(2).event;return G(o.onClick({event:a,sourceEvent:r}))})("mwlKeydownEnter",function(r){let o=q(t).$implicit,a=R(2).event;return G(o.onClick({event:a,sourceEvent:r}))}),X()}if(n&2){let t=e.$implicit;W("ngClass",t.cssClass)("innerHtml",t.label,_t),fe("aria-label",he(1,3,ze(6,ca,t),"actionButtonLabel"))}}function ma(n,e){if(n&1&&(Y(0,"span",3),Q(1,ua,2,8,"a",4),X()),n&2){let t=R(),i=t.event,r=t.trackByActionId;A(),W("ngForOf",i.actions)("ngForTrackBy",r)}}function pa(n,e){if(n&1&&Q(0,ma,2,2,"span",2),n&2){let t=e.event;W("ngIf",t.actions)}}function fa(n,e){}var ha=(n,e)=>({event:n,view:e}),li=()=>({});function ga(n,e){if(n&1&&(Te(0,"span",2),K(1,"calendarEventTitle"),K(2,"calendarA11y")),n&2){let t=e.event,i=e.view;W("innerHTML",Le(1,2,t.title,i,t),_t),fe("aria-hidden",he(2,6,Re(9,li),"hideEventTitle"))}}function va(n,e){}var wa=(n,e,t)=>({contents:n,placement:e,event:t});function ya(n,e){if(n&1&&(Y(0,"div",2),Te(1,"div",3)(2,"div",4),X()),n&2){let t=e.contents,i=e.placement;W("ngClass","cal-tooltip-"+i),A(2),W("innerHtml",t,_t)}}function Da(n,e){}var _a=(n,e,t,i,r,o,a,s,c,l,d,u)=>({day:n,openDay:e,locale:t,tooltipPlacement:i,highlightDay:r,unhighlightDay:o,eventClicked:a,tooltipTemplate:s,tooltipAppendToBody:c,tooltipDelay:l,trackByEventId:d,validateDrag:u}),Ca=(n,e)=>({day:n,locale:e}),di=n=>({backgroundColor:n}),Ta=(n,e)=>({event:n,draggedFrom:e}),Mr=(n,e)=>({x:n,y:e}),Sr=()=>({delay:300,delta:30});function ka(n,e){if(n&1&&(Y(0,"span",7),Fe(1),X()),n&2){let t=R().day;A(),Rn(t.badgeTotal)}}function ba(n,e){if(n&1){let t=ke();Y(0,"div",10),K(1,"calendarEventTitle"),K(2,"calendarA11y"),ne("mouseenter",function(){let r=q(t).$implicit,o=R(2).highlightDay;return G(o.emit({event:r}))})("mouseleave",function(){let r=q(t).$implicit,o=R(2).unhighlightDay;return G(o.emit({event:r}))})("mwlClick",function(r){let o=q(t).$implicit,a=R(2).eventClicked;return G(a.emit({event:o,sourceEvent:r}))}),X()}if(n&2){let t=e.$implicit,i=R(2),r=i.day,o=i.tooltipPlacement,a=i.tooltipTemplate,s=i.tooltipAppendToBody,c=i.tooltipDelay,l=i.validateDrag;et("cal-draggable",t.draggable),W("ngStyle",ze(22,di,t.color==null?null:t.color.primary))("ngClass",t==null?null:t.cssClass)("mwlCalendarTooltip",Le(1,15,t.title,"monthTooltip",t))("tooltipPlacement",o)("tooltipEvent",t)("tooltipTemplate",a)("tooltipAppendToBody",s)("tooltipDelay",c)("dropData",ue(24,Ta,t,r))("dragAxis",ue(27,Mr,t.draggable,t.draggable))("validateDrag",l)("touchStartLongPress",Re(30,Sr)),fe("aria-hidden",he(2,19,Re(31,li),"hideMonthCellEvents"))}}function Ea(n,e){if(n&1&&(Y(0,"div",8),Q(1,ba,3,32,"div",9),X()),n&2){let t=R(),i=t.day,r=t.trackByEventId;A(),W("ngForOf",i.events)("ngForTrackBy",r)}}function xa(n,e){if(n&1&&(Y(0,"div",2),K(1,"calendarA11y"),Y(2,"span",3),Q(3,ka,2,1,"span",4),Y(4,"span",5),Fe(5),K(6,"calendarDate"),X()()(),Q(7,Ea,2,2,"div",6)),n&2){let t=e.day,i=e.locale;fe("aria-label",he(1,4,ue(11,Ca,t,i),"monthCell")),A(3),W("ngIf",t.badgeTotal>0),A(2),Rn(Le(6,7,t.date,"monthViewDayNumber",i)),A(2),W("ngIf",t.events.length>0)}}function Ma(n,e){}var Sa=(n,e,t,i,r)=>({events:n,eventClicked:e,isOpen:t,trackByEventId:i,validateDrag:r}),br=(n,e)=>({date:n,locale:e}),Oa=n=>({event:n}),Ha=(n,e)=>({event:n,locale:e});function Pa(n,e){if(n&1){let t=ke();Y(0,"div",7),Te(1,"span",8),Fe(2," "),Y(3,"mwl-calendar-event-title",9),K(4,"calendarA11y"),ne("mwlClick",function(r){let o=q(t).$implicit,a=R(2).eventClicked;return G(a.emit({event:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){let o=q(t).$implicit,a=R(2).eventClicked;return G(a.emit({event:o,sourceEvent:r}))}),X(),Fe(5," "),Te(6,"mwl-calendar-event-actions",10),X()}if(n&2){let t=e.$implicit,i=R(2).validateDrag,r=R();et("cal-draggable",t.draggable),W("ngClass",t==null?null:t.cssClass)("dropData",ze(16,Oa,t))("dragAxis",ue(18,Mr,t.draggable,t.draggable))("validateDrag",i)("touchStartLongPress",Re(21,Sr)),A(),W("ngStyle",ze(22,di,t.color==null?null:t.color.primary)),A(2),W("event",t)("customTemplate",r.eventTitleTemplate),fe("aria-label",he(4,13,ue(24,Ha,t,r.locale),"eventDescription")),A(3),W("event",t)("customTemplate",r.eventActionsTemplate)}}function Ia(n,e){if(n&1&&(Y(0,"div",3),Te(1,"span",4),K(2,"calendarA11y"),Te(3,"span",5),K(4,"calendarA11y"),Q(5,Pa,7,27,"div",6),X()),n&2){let t=R(),i=t.events,r=t.trackByEventId,o=R();W("@collapse",void 0),A(),fe("aria-label",he(2,5,ue(11,br,o.date,o.locale),"openDayEventsAlert")),A(2),fe("aria-label",he(4,8,ue(14,br,o.date,o.locale),"openDayEventsLandmark")),A(2),W("ngForOf",i)("ngForTrackBy",r)}}function Wa(n,e){if(n&1&&Q(0,Ia,6,17,"div",2),n&2){let t=e.isOpen;W("ngIf",t)}}function Va(n,e){}var Fa=(n,e,t)=>({days:n,locale:e,trackByWeekDayHeaderDate:t});function Ra(n,e){if(n&1){let t=ke();Y(0,"div",4),ne("click",function(r){let o=q(t).$implicit,a=R(2);return G(a.columnHeaderClicked.emit({isoDayNumber:o.day,sourceEvent:r}))}),Fe(1),K(2,"calendarDate"),X()}if(n&2){let t=e.$implicit,i=R().locale;et("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),W("ngClass",t.cssClass),A(),ki(" ",Le(2,10,t.date,"monthViewColumnHeader",i)," ")}}function za(n,e){if(n&1&&(Y(0,"div",2),Q(1,Ra,3,14,"div",3),X()),n&2){let t=e.days,i=e.trackByWeekDayHeaderDate;A(),W("ngForOf",t)("ngForTrackBy",i)}}function La(n,e){}function Aa(n,e){if(n&1){let t=ke();Y(0,"mwl-calendar-month-cell",7),K(1,"calendarA11y"),ne("mwlClick",function(r){let o=q(t).$implicit,a=R(2);return G(a.dayClicked.emit({day:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){let o=q(t).$implicit,a=R(2);return G(a.dayClicked.emit({day:o,sourceEvent:r}))})("highlightDay",function(r){q(t);let o=R(2);return G(o.toggleDayHighlight(r.event,!0))})("unhighlightDay",function(r){q(t);let o=R(2);return G(o.toggleDayHighlight(r.event,!1))})("drop",function(r){let o=q(t).$implicit,a=R(2);return G(a.eventDropped(o,r.dropData.event,r.dropData.draggedFrom))})("eventClicked",function(r){q(t);let o=R(2);return G(o.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))}),X()}if(n&2){let t=e.$implicit,i=R(2);W("ngClass",t==null?null:t.cssClass)("day",t)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",ze(15,di,t.backgroundColor))("clickListenerDisabled",i.dayClicked.observers.length===0),fe("tabindex",he(1,12,Re(17,li),"monthCellTabIndex"))}}function Na(n,e){if(n&1){let t=ke();Y(0,"div")(1,"div",4),Q(2,Aa,2,18,"mwl-calendar-month-cell",5),K(3,"slice"),X(),Y(4,"mwl-calendar-open-day-events",6),ne("eventClicked",function(r){q(t);let o=R();return G(o.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))})("drop",function(r){q(t);let o=R();return G(o.eventDropped(o.openDay,r.dropData.event,r.dropData.draggedFrom))}),X()()}if(n&2){let t=e.$implicit,i=R();A(2),W("ngForOf",Le(3,9,i.view.days,t,t+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),A(2),W("locale",i.locale)("isOpen",i.openRowIndex===t)("events",i.openDay==null?null:i.openDay.events)("date",i.openDay==null?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}var xn=(()=>{class n{constructor(t,i,r){this.renderer=t,this.elm=i,this.document=r,this.clickListenerDisabled=!1,this.click=new L,this.destroy$=new ce}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(Ze(this.destroy$)).subscribe(t=>{t.stopPropagation(),this.click.emit(t)})}ngOnDestroy(){this.destroy$.next()}listen(){return new wt(t=>this.renderer.listen(this.elm.nativeElement,"click",i=>{t.next(i)}))}}return n.\u0275fac=function(t){return new(t||n)(E(we),E(pe),E(tt))},n.\u0275dir=te({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),ci=(()=>{class n{constructor(t,i,r){this.host=t,this.ngZone=i,this.renderer=r,this.keydown=new L,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",t=>{(t.keyCode===13||t.which===13||t.key==="Enter")&&(t.preventDefault(),t.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(t)}))})})}ngOnDestroy(){this.keydownListener!==null&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(t){return new(t||n)(E(pe),E(Ve),E(we))},n.\u0275dir=te({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),bn=(()=>{class n{constructor(t){this.i18nPlural=t}monthCell({day:t,locale:i}){return t.badgeTotal>0?`
        ${$(t.date,"EEEE MMMM d",i)},
        ${this.i18nPlural.transform(t.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},
         click to expand
      `:`${$(t.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:t,locale:i}){return`
      Beginning of expanded view for ${$(t,"EEEE MMMM dd",i)}
    `}openDayEventsAlert({date:t,locale:i}){return`${$(t,"EEEE MMMM dd",i)} expanded`}eventDescription({event:t,locale:i}){if(t.allDay===!0)return this.allDayEventDescription({event:t,locale:i});let r=`
      ${$(t.start,"EEEE MMMM dd",i)},
      ${t.title}, from ${$(t.start,"hh:mm a",i)}
    `;return t.end?r+` to ${$(t.end,"hh:mm a",i)}`:r}allDayEventDescription({event:t,locale:i}){let r=`
      ${t.title}, event spans multiple days:
      start time ${$(t.start,"MMMM dd hh:mm a",i)}
    `;return t.end?r+`, stop time ${$(t.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:t}){return t.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(t){return new(t||n)(Ce(bt))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})(),ht=(()=>{class n{constructor(t,i){this.calendarA11y=t,this.locale=i}transform(t,i){if(t.locale=t.locale||this.locale,typeof this.calendarA11y[i]>"u"){let r=Object.getOwnPropertyNames(Object.getPrototypeOf(bn.prototype)).filter(o=>o!=="constructor");throw new Error(`${i} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[i](t)}}return n.\u0275fac=function(t){return new(t||n)(E(bn,16),E(Ae,16))},n.\u0275pipe=Dt({name:"calendarA11y",type:n,pure:!0}),n})(),Ba=(()=>{class n{constructor(){this.trackByActionId=(t,i)=>i.id?i.id:i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ve({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"mwlClick","mwlKeydownEnter","ngClass","innerHtml"]],template:function(t,i){if(t&1&&Q(0,pa,1,1,"ng-template",null,0,Ee)(2,fa,0,0,"ng-template",1),t&2){let r=be(1);A(2),W("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",ue(2,da,i.event,i.trackByActionId))}},dependencies:[xe,Ne,Tt,Me,xn,ci,ht],encapsulation:2}),n})(),ut=class{month(e,t){return e.title}monthTooltip(e,t){return e.title}week(e,t){return e.title}weekTooltip(e,t){return e.title}day(e,t){return e.title}dayTooltip(e,t){return e.title}},Or=(()=>{class n{constructor(t){this.calendarEventTitle=t}transform(t,i,r){return this.calendarEventTitle[i](r,t)}}return n.\u0275fac=function(t){return new(t||n)(E(ut,16))},n.\u0275pipe=Dt({name:"calendarEventTitle",type:n,pure:!0}),n})(),Ya=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ve({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(t,i){if(t&1&&Q(0,ga,3,10,"ng-template",null,0,Ee)(2,va,0,0,"ng-template",1),t&2){let r=be(1);A(2),W("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",ue(2,ha,i.event,i.view))}},dependencies:[Me,Or,ht],encapsulation:2}),n})(),$a=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ve({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(t,i){if(t&1&&Q(0,ya,3,2,"ng-template",null,0,Ee)(2,Da,0,0,"ng-template",1),t&2){let r=be(1);A(2),W("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",zn(2,wa,i.contents,i.placement,i.event))}},dependencies:[xe,Me],encapsulation:2}),n})(),ja=(()=>{class n{constructor(t,i,r,o,a,s){this.elementRef=t,this.injector=i,this.renderer=r,this.viewContainerRef=a,this.document=s,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new ce,this.tooltipFactory=o.resolveComponentFactory($a)}ngOnChanges(t){this.tooltipRef&&(t.contents||t.customTemplate||t.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(this.delay===null?fi("now"):gi(this.delay)).pipe(Ze(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(t=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=qn(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),t.indexOf(this.tooltipRef.instance.placement)===-1&&this.positionTooltip([...t,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(t){return new(t||n)(E(pe),E(Ci),E(we),E(Ti),E(Ct),E(tt))},n.\u0275dir=te({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(t,i){t&1&&ne("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:[0,"mwlCalendarTooltip","contents"],placement:[0,"tooltipPlacement","placement"],customTemplate:[0,"tooltipTemplate","customTemplate"],event:[0,"tooltipEvent","event"],appendToBody:[0,"tooltipAppendToBody","appendToBody"],delay:[0,"tooltipDelay","delay"]},features:[Je]}),n})(),mt=function(n){return n.Month="month",n.Week="week",n.Day="day",n}(mt||{}),Xa=n=>hr(n,(...t)=>console.warn("angular-calendar",...t));var Hr=(n,e)=>e.id?e.id:e,qa=(n,e)=>e.date.toISOString();function pt(n,e,t,i){let r=0,o=0,a=t<0?n.subDays:n.addDays,s=e;for(;o<=Math.abs(t);){s=a(e,r);let c=n.getDay(s);i.indexOf(c)===-1&&o++,r++}return s}function Ga(n,e,t,i=[],r){let o=r?n.startOfDay(e):n.startOfWeek(e,{weekStartsOn:t}),a=n.endOfWeek(e,{weekStartsOn:t});for(;i.indexOf(n.getDay(o))>-1&&o<a;)o=n.addDays(o,1);if(r){let s=n.endOfDay(pt(n,o,r-1,i));return{viewStart:o,viewEnd:s}}else{let s=a;for(;i.indexOf(n.getDay(s))>-1&&s>o;)s=n.subDays(s,1);return{viewStart:o,viewEnd:s}}}function Pr({x:n,y:e}){return Math.abs(n)>1||Math.abs(e)>1}var De=class{},Rp=(()=>{class n{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new L}onClick(){let t={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.view===mt.Day?this.viewDateChange.emit(pt(this.dateAdapter,this.viewDate,-1,this.excludeDays)):this.view===mt.Week&&this.daysInWeek?this.viewDateChange.emit(pt(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays)):this.viewDateChange.emit(t(this.viewDate,1))}}return n.\u0275fac=function(t){return new(t||n)(E(De))},n.\u0275dir=te({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(t,i){t&1&&ne("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),zp=(()=>{class n{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new L}onClick(){let t={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.view===mt.Day?this.viewDateChange.emit(pt(this.dateAdapter,this.viewDate,1,this.excludeDays)):this.view===mt.Week&&this.daysInWeek?this.viewDateChange.emit(pt(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays)):this.viewDateChange.emit(t(this.viewDate,1))}}return n.\u0275fac=function(t){return new(t||n)(E(De))},n.\u0275dir=te({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(t,i){t&1&&ne("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),Lp=(()=>{class n{constructor(t){this.dateAdapter=t,this.viewDateChange=new L}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return n.\u0275fac=function(t){return new(t||n)(E(De))},n.\u0275dir=te({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(t,i){t&1&&ne("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),n})(),Qa=(()=>{class n{constructor(t){this.dateAdapter=t}monthViewColumnHeader({date:t,locale:i}){return $(t,"EEEE",i)}monthViewDayNumber({date:t,locale:i}){return $(t,"d",i)}monthViewTitle({date:t,locale:i}){return $(t,"LLLL y",i)}weekViewColumnHeader({date:t,locale:i}){return $(t,"EEEE",i)}weekViewColumnSubHeader({date:t,locale:i}){return $(t,"MMM d",i)}weekViewTitle({date:t,locale:i,weekStartsOn:r,excludeDays:o,daysInWeek:a}){let{viewStart:s,viewEnd:c}=Ga(this.dateAdapter,t,r,o,a),l=(d,u)=>$(d,"MMM d"+(u?", yyyy":""),i);return`${l(s,s.getUTCFullYear()!==c.getUTCFullYear())} - ${l(c,!0)}`}weekViewHour({date:t,locale:i}){return $(t,"h a",i)}dayViewHour({date:t,locale:i}){return $(t,"h a",i)}dayViewTitle({date:t,locale:i}){return $(t,"EEEE, MMMM d, y",i)}}return n.\u0275fac=function(t){return new(t||n)(Ce(De))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})(),En=(()=>{class n extends Qa{}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=_i(n)))(i||n)}})(),n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})(),Ir=(()=>{class n{constructor(t,i){this.dateFormatter=t,this.locale=i}transform(t,i,r=this.locale,o=0,a=[],s){if(typeof this.dateFormatter[i]>"u"){let c=Object.getOwnPropertyNames(Object.getPrototypeOf(En.prototype)).filter(l=>l!=="constructor");throw new Error(`${i} is not a valid date formatter. Can only be one of ${c.join(", ")}`)}return this.dateFormatter[i]({date:t,locale:r,weekStartsOn:o,excludeDays:a,daysInWeek:s})}}return n.\u0275fac=function(t){return new(t||n)(E(En,16),E(Ae,16))},n.\u0275pipe=Dt({name:"calendarDate",type:n,pure:!0}),n})(),ui=(()=>{class n{constructor(t){this.dateAdapter=t}getMonthView(t){return fr(this.dateAdapter,t)}getWeekViewHeader(t){return Tn(this.dateAdapter,t)}getWeekView(t){return pr(this.dateAdapter,t)}}return n.\u0275fac=function(t){return new(t||n)(Ce(De))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})(),Ap=new Di("Moment");var Wr=function(n){return n.Drag="drag",n.Drop="drop",n.Resize="resize",n}(Wr||{}),ft=(()=>{class n{static forRoot(t,i={}){return{ngModule:n,providers:[t,i.eventTitleFormatter||ut,i.dateFormatter||En,i.utils||ui,i.a11y||bn]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ee({type:n}),n.\u0275inj=J({providers:[bt],imports:[nt]}),n})(),Ua=(()=>{class n{constructor(){this.highlightDay=new L,this.unhighlightDay=new L,this.eventClicked=new L,this.trackByEventId=Hr,this.validateDrag=Pr}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ve({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(t,i){t&2&&et("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"mouseenter","mouseleave","mwlClick","ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress"]],template:function(t,i){if(t&1&&Q(0,xa,8,14,"ng-template",null,0,Ee)(2,Ma,0,0,"ng-template",1),t&2){let r=be(1);A(2),W("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",Ei(2,_a,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},dependencies:[xe,Ne,Tt,Me,kt,oi,ja,xn,Ir,Or,ht],encapsulation:2}),n})(),Ka=Si("collapse",[Nn("void",An({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Nn("*",An({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),Bn("* => void",Ln("150ms ease-out")),Bn("void => *",Ln("150ms ease-in"))]),Za=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new L,this.trackByEventId=Hr,this.validateDrag=Pr}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ve({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"mwlClick","mwlKeydownEnter","event","customTemplate"],[3,"event","customTemplate"]],template:function(t,i){if(t&1&&Q(0,Wa,1,1,"ng-template",null,0,Ee)(2,Va,0,0,"ng-template",1),t&2){let r=be(1);A(2),W("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",bi(2,Sa,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},dependencies:[xe,Ne,Tt,Me,kt,oi,Ba,Ya,xn,ci,ht],encapsulation:2,data:{animation:[Ka]}}),n})(),Ja=(()=>{class n{constructor(){this.columnHeaderClicked=new L,this.trackByWeekDayHeaderDate=qa}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ve({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"click","ngClass"]],template:function(t,i){if(t&1&&Q(0,za,2,2,"ng-template",null,0,Ee)(2,La,0,0,"ng-template",1),t&2){let r=be(1);A(2),W("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",zn(2,Fa,i.days,i.locale,i.trackByWeekDayHeaderDate))}},dependencies:[xe,Ne,Me,Ir],encapsulation:2}),n})(),Np=(()=>{class n{constructor(t,i,r,o){this.cdr=t,this.utils=i,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new L,this.dayClicked=new L,this.eventClicked=new L,this.columnHeaderClicked=new L,this.eventTimesChanged=new L,this.trackByRowOffset=(a,s)=>this.view.days.slice(s,this.view.totalDaysVisibleInWeek).map(c=>c.date.toISOString()).join("-"),this.trackByDate=(a,s)=>s.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){let i=t.viewDate||t.excludeDays||t.weekendDays,r=t.viewDate||t.events||t.excludeDays||t.weekendDays;i&&this.refreshHeader(),t.events&&Xa(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender(),(t.activeDayIsOpen||t.viewDate||t.events||t.excludeDays||t.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(t,i){this.view.days.forEach(r=>{i&&r.events.indexOf(t)>-1?r.backgroundColor=t.color&&t.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(t,i,r){if(t!==r){let o=this.dateAdapter.getYear(t.date),a=this.dateAdapter.getMonth(t.date),s=this.dateAdapter.getDate(t.date),c=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,o),a),s),l;if(i.end){let d=this.dateAdapter.differenceInSeconds(c,i.start);l=this.dateAdapter.addSeconds(i.end,d)}this.eventTimesChanged.emit({event:i,newStart:c,newEnd:l,day:t,type:Wr.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(this.activeDayIsOpen===!0){let t=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,t));let i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(t){return new(t||n)(E(xi),E(ui),E(Ae),E(De))},n.\u0275cmp=ve({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[Je],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"columnHeaderClicked","days","locale","customTemplate"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"eventClicked","drop","locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked","ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled"]],template:function(t,i){t&1&&(Y(0,"div",0)(1,"mwl-calendar-month-view-header",1),ne("columnHeaderClicked",function(o){return i.columnHeaderClicked.emit(o)}),X(),Y(2,"div",2),Q(3,Na,5,13,"div",3),X()()),t&2&&(A(),W("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),A(2),W("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},dependencies:[xe,Ne,kt,kr,xn,ci,Ua,Za,Ja,Mi,ht],encapsulation:2}),n})(),Er=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ee({type:n}),n.\u0275inj=J({imports:[nt,ct,ft,ct]}),n})();var si=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ee({type:n}),n.\u0275inj=J({imports:[nt,ai,ct,ft,ai,ct]}),n})();var xr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ee({type:n}),n.\u0275inj=J({imports:[nt,ft,si]}),n})(),Bp=(()=>{class n{static forRoot(t,i={}){return{ngModule:n,providers:[t,i.eventTitleFormatter||ut,i.dateFormatter||En,i.utils||ui,i.a11y||bn]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ee({type:n}),n.\u0275inj=J({imports:[ft,Er,si,xr,ft,Er,si,xr]}),n})();export{O as a,ie as b,S as c,Yi as d,$i as e,Z as f,Gt as g,Zt as h,Yn as i,nr as j,Fm as k,De as l,Rp as m,zp as n,Lp as o,Np as p,Bp as q};
